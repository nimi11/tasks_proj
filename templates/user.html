<!DOCTYPE html>
<html lang="en">
<head>
    <title>Select User</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='home.css') }}">
</head>
<body>
    <h1>Create a new User</h1>

    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="flashes">
                {% for message in messages %}
                    <p>{{ message }}</p>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    {% if error %}
        <p>{{ error }}</p>
    {% endif %}

    <form id="new_user_form" action="{{ url_for('user')}}" method="post">
        <fieldset>
            <legend>New User</legend>
        <label for="username">Username:</label><br>
        <input id="new_user_field" type="text" id="username" name="username" required><br>
        <button id="user_submit" type="submit" value="Select User">submit</button>
     </fieldset>
    </form>

    <h4 id="already_signed_text"><a href="{{ url_for('users', user=user) }}">Already signed up, click here </a></h4>

    <script>
        // Function to hide flash messages after a delay
        document.addEventListener('DOMContentLoaded', function () {
            setTimeout(function () {
                var flashes = document.querySelector('.flashes');
                if (flashes) {
                    flashes.style.display = 'none';
                }
            }, 1000);  // 2000 milliseconds (2 seconds)
        });
    </script>
</body>
</html>
